(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dae97"],{"6e2d":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"position-absolute top-0 right-0 text-right mt-5 mb-15 mb-lg-0 flex-column-auto justify-content-center py-5 px-10"},[n("span",{staticClass:"font-weight-bold font-size-3 text-dark-60"},[t._v(t._s(t.$t("PAGE.AUTH.NO_ACCOUNT")))]),n("router-link",{staticClass:"font-weight-bold font-size-3 ml-2",attrs:{to:{name:"register"}}},[t._v(t._s(t.$t("PAGE.AUTH.SIGN_UP"))+"!")])],1),n("div",{staticClass:"login-form login-signin"},[n("div",{staticClass:"text-center mb-10 mb-lg-20"},[n("h3",{staticClass:"font-size-h1"},[t._v(t._s(t.$t("PAGE.AUTH.SIGN_IN")))])]),n("b-button",{staticClass:"w-100",attrs:{variant:"primary"},on:{click:function(e){return t.handleClickSignIn()}}},[n("font-awesome-icon",{staticStyle:{float:"left"},attrs:{icon:["fab","google"],size:"lg"}}),t._v(" "+t._s(t.$t("PAGE.AUTH.GOOGLE_SIGN_IN"))+" ")],1),n("div",{staticClass:"hr-label"},[n("span",{staticClass:"hr-label text"},[t._v(t._s(t.$t("PAGE.AUTH.OR")))])]),n("b-form",{staticClass:"form",staticStyle:{width:"400px"},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmit(e)}}},[n("div",{staticClass:"alert fade alert-danger",class:{show:t.error},attrs:{role:"alert"}},[n("div",{staticClass:"alert-text"},[t._v(t._s(t.error))])]),n("b-form-group",{attrs:{label:t.$t("PAGE.AUTH.EMAIL")}},[n("b-input-group",{staticClass:"mt-3"},[n("b-input-group-prepend",{attrs:{"is-text":""}},[n("font-awesome-icon",{attrs:{icon:"envelope"}})],1),n("b-form-input",{attrs:{state:t.emailValidation,required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),n("b-form-invalid-feedback",{attrs:{state:t.emailValidation}},[t._v(" "+t._s(t.$t("PAGE.AUTH.INVALID_EMAIL"))+" ")])],1)],1),n("b-form-group",{attrs:{label:t.$t("PAGE.AUTH.PASSWORD")}},[n("b-input-group",{staticClass:"mt-3"},[n("b-input-group-prepend",{attrs:{"is-text":""}},[n("font-awesome-icon",{attrs:{icon:"key"}})],1),n("b-form-input",{attrs:{type:"password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1),n("div",{staticClass:"form-group d-flex flex-wrap justify-content-between align-items-center"},[n("router-link",{staticClass:"font-weight-bold font-size-3 ml-2",attrs:{to:{name:"reset"}}},[t._v(t._s(t.$t("PAGE.AUTH.FORGOT")))]),n("b-button",{ref:"kt_login_signin_submit",attrs:{variant:"primary"},on:{click:function(e){return t.onSubmit()}}},[n("font-awesome-icon",{staticClass:"mr-2 mt-1",attrs:{icon:"sign-in-alt",size:"lg"}}),t._v(" "+t._s(t.$t("PAGE.AUTH.SIGN_IN")))],1)],1)],1)],1)])},r=[],s=(n("99af"),n("a34a")),i=n.n(s),o=(n("96cf"),n("1da1")),l=n("bdc2"),c=n("19e8"),u=n("7684"),m={data:function(){return{form:{email:Object(c["a"])(),password:null},error:null}},computed:{emailValidation:function(){return null==this.form.email?null:Object(u["d"])(this.form.email)}},methods:{resetForm:function(){var t=this;this.form={email:null,password:null},this.$nextTick((function(){t.$v.$reset()}))},onSubmit:function(){var t=this,e=this.form.email,n=this.form.password;Object(c["f"])();var a=this.$refs["kt_login_signin_submit"];Object(u["b"])(a);var r="email=".concat(e,"&password=").concat(n);Object(l["g"])(r).then((function(e){if(e.value){window._paq.push(["trackEvent","user event","login",Object(c["a"])()]);var n=localStorage.getItem("preRoute");null==n?t.$router.push({name:"index"}):(localStorage.removeItem("preRoute"),t.$router.push({path:n}))}else t.error=e.error,Object(u["c"])(a)}))},handleClickSignIn:function(){var t=this;return Object(o["a"])(i.a.mark((function e(){var n,a;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$gAuth.signIn();case 3:if(n=e.sent,n){e.next=6;break}return e.abrupt("return",null);case 6:a=n.getAuthResponse().id_token,console.log("ID Token: "+a),t.onAuth2(a),t.isSignIn=t.$gAuth.isAuthorized,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},onAuth2:function(t){var e=this;Object(c["f"])(),Object(c["h"])(t),Object(l["h"])().then((function(t){t.value?(window._paq.push(["trackEvent","user event","login oauth2",Object(c["a"])()]),e.$router.push({name:"index"})):e.error=t.error}))}}},f=m,p=n("2877"),b=Object(p["a"])(f,a,r,!1,null,null,null);e["default"]=b.exports}}]);